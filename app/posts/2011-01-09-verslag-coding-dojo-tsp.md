---
layout: post
title: "Verslag Coding Dojo TSP"
---

## Travelling Salesman Kata - Devnology 5 January 2011

This report is written by Paul Spencer([@paul_spencer](http://twitter.com/paul_spencer)) . Thanks a bunch Paul!

[ ![](http://farm6.static.flickr.com/5166/5329323253_e77b7f36b6_s.jpg) ![](http://farm6.static.flickr.com/5242/5329935070_4d312808f4_s.jpg) ![](http://farm6.static.flickr.com/5210/5329323501_659217a4e5_s.jpg) ![](http://farm6.static.flickr.com/5246/5329935692_6531c415e4_s.jpg) ![](http://farm6.static.flickr.com/5123/5329324275_be0fb35f07_s.jpg) ![](http://farm6.static.flickr.com/5241/5329324175_e35f3afb62_s.jpg) ![](http://farm6.static.flickr.com/5044/5329935312_45c955b4b1_s.jpg) ](http://www.flickr.com/photos/devnology/sets/72157625634662047/)

*   Mr Miyagi / Sensei: [Stefan Nijenhuis](http://twitter.com/sghnijenhuis)
*   Weapons of choice: C# and a BDD style supported by the [StoryQ](http://storyQ.codeplex.com) library.
*   Fighting style: [Randori Kata](http://codingdojo.org/cgi-bin/wiki.pl?RandoriKata), supported by Stefan&rsquo;s Randori Timer app.

My limited experience of TDD had taught me that driving design by tests was OK in general but in creating good design and in specific hard mathematical problems a bit more forethought was required. The Traveling salesman problem is a hard problem. I know it&rsquo;s a hard problem, because in reading the[ Wikipedia article](http://en.wikipedia.org/wiki/Travelling_salesman_problem) on it, my brain started punching my eyes to make them stop reading. So going into the dojo I was sure this could not be done.

After niceties were dispensed, the first slide was displayed and as Saul on the road to Damascus, scales fell from my eyes and the the answer to my TDD vs Hard Mathematical Problems was answered. We were not going to be gods creating the solution perfect in the first try, we were going to be as nature, brute forcing the answer with (to misquote Terry Pratchet) &ldquo;[Algorithms doing] their own evolving, making it up as they go along, which is the way Nature intended. &hellip; there&rsquo;s nothing like millions of [CPU Cycles] of really frustrating trial and error to give a species moral fiber and, in some cases, backbone.&rdquo; We were going to use Genetic Algorithms to solve the problem.
The &lsquo;TDD leading to mediocre design&rsquo; problem, as described by the [TDD Apostate](http://blog.ploeh.dk/2010/12/22/TheTDDApostate.aspx), was being partially solved by having a template of objects and a few libraries for calculating distances between cities etc.

I am not going to go into length describing genetic programming, mainly because, although the principles rang true with me I seemed to misunderstand the practical in-code implementation side of it. This will probably be explained further in next months blog post, (the following Devnology get-together is solely about genetic programming - one more seat available at time of writing -[ gen pro workshop](http://devnology.nl/nl/bijeenkomsten/details/32-workshop-genpro)). In short there is a pool of data (genes) that are grouped into a finite group of solutions (chromosomes), of which the best/fittest n are selected. If any of these solve the problem then the answer is found, else the elite chromosomes are crossed, gene sequences mixing and matching with the odd mutation thrown in here and there. From these crossings and mutations the best survive and the rest become extinct. This repeats itself for generation after generation until an answer is found.

After a presentation explaining all of the above and more we got down to it. We had two laptops attached to beamers. Each laptop had two chairs in front of it, one for the driver (coder), one for the navigator. There was also a Whiteboard upon which the moderators, Stefan and [Tjeerd Hans](http://twitter.com/#%21/tjeerdhans), kept a running note of what was planned for each coding pair. I will spare the details of each iteration, and not only because I am unable to read the notes, but the basics were the groups tried to apply the specification of the problem to the methodology, e.g., towns to genes, chromosomes to lists of towns, fitness to total distance between towns. These were approached in baby steps all precursor-ed (sometimes after cajoling) with tests and within the seven minutes presented by the timer (also sometimes requiring cajoling for the driver to leave the keyboard). Often there was refactoring (or just plain fixing) of the previous steps. Occasionally there was a bit of confusion as to how to deal with the BDD style, but otherwise it seemed to go swimmingly.

We didn&rsquo;t finish the problem, but this was never a goal, time was too limited and there was so much new to learn. But we did learn much, and a &lsquo;gezelig&rsquo; evening was had by all.

[So proud I managed to make it all the way through this blog post without once mentioning that, following a miscommunication with my diary, I arrived 24 hours early for this event, and in the process learned that the Devnology meetings are on the first Wednesday - and NOT the first Tuesday of every month. Needless to say the members of Devnology were very kind and didn&rsquo;t mention this fact more than a few hundred times]

 <object data="http://www.flickr.com/apps/video/stewart.swf?v=71377" type="application/x-shockwave-flash" width="425" height="235" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"> <param name="flashvars" value="intl_lang=en-us&amp;photo_secret=1b1bec5a11&amp;photo_id=5331126684" /> <param name="movie" value="http://www.flickr.com/apps/video/stewart.swf?v=71377" /> <param name="bgcolor" value="#000000" /> <param name="allowFullScreen" value="true" /><embed type="application/x-shockwave-flash" src="http://www.flickr.com/apps/video/stewart.swf?v=71377" mce_src="http://www.flickr.com/apps/video/stewart.swf?v=71377" bgcolor="#000000" allowfullscreen="allowfullscreen" flashvars="intl_lang=en-us&amp;photo_secret=1b1bec5a11&amp;photo_id=5331126684" width="425" height="235" /></object>

<div>**[Devnology Coding Dojo 05-01-2011](http://www.slideshare.net/devnology/devnology-coding-dojo-05012011 "Devnology Coding Dojo 05-01-2011")**<object width="425" height="355"><param name="movie" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=codingdojo-devnology-110106015828-phpapp02&amp;stripped_title=devnology-coding-dojo-05012011&amp;userName=devnology" /><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><embed name="__sse6464757" src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=codingdojo-devnology-110106015828-phpapp02&amp;stripped_title=devnology-coding-dojo-05012011&amp;userName=devnology" mce_src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=codingdojo-devnology-110106015828-phpapp02&amp;stripped_title=devnology-coding-dojo-05012011&amp;userName=devnology" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="allowfullscreen" width="425" height="355" /></object>
<div>View more [presentations](http://www.slideshare.net/) from [Devnology](http://www.slideshare.net/devnology).</div>
</div>
